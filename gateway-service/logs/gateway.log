2025-01-08 01:10:58 [main] INFO  o.example.GatewayServiceApplication - Starting GatewayServiceApplication using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2025-01-08 01:10:58 [main] DEBUG o.example.GatewayServiceApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-01-08 01:10:58 [main] INFO  o.example.GatewayServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-08 01:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-08 01:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-08 01:11:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 355 ms. Found 0 Redis repository interfaces.
2025-01-08 01:11:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-08 01:11:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-08 01:11:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-01-08 01:11:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-08 01:11:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 12975 ms
2025-01-08 01:11:14 [main] DEBUG i.m.c.u.i.l.InternalLoggerFactory - Using SLF4J as the default logging framework
2025-01-08 01:11:19 [main] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Starting RedisMessageListenerContainer...
2025-01-08 01:11:19 [main] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Postpone listening for Redis messages until actual listeners are added
2025-01-08 01:11:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-01-08 01:11:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-08 01:11:19 [main] INFO  o.example.GatewayServiceApplication - Started GatewayServiceApplication in 27.38 seconds (process running for 30.134)
2025-01-08 01:11:24 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-08 01:11:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-08 01:11:24 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-01-08 01:11:24 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:28 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:33 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:38 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:43 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:48 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:53 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:11:53 [http-nio-8080-exec-9] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 01:11:53 [http-nio-8080-exec-9] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 01:11:53 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 01:11:54 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 01:11:54 [http-nio-8080-exec-9] WARN  o.example.service.RedisCacheService - CACHE MISS - No employees found in Redis cache
2025-01-08 01:11:54 [http-nio-8080-exec-9] INFO  org.example.grpc.EmployeeGrpcClient - Getting all employees
2025-01-08 01:11:56 [http-nio-8080-exec-9] DEBUG org.example.grpc.EmployeeGrpcClient - Retrieved 0 employees
2025-01-08 01:11:56 [http-nio-8080-exec-9] WARN  o.e.c.EmployeeGatewayController - No employees found from gRPC
2025-01-08 01:11:58 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:02 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:03 [http-nio-8080-exec-2] INFO  o.e.c.EmployeeGatewayController - Creating new employee: Гоша
2025-01-08 01:12:04 [http-nio-8080-exec-2] INFO  org.example.service.RabbitMQSender - Sending message to RabbitMQ: CREATE:Гоша,Крановщик,155000.750000,2023-01-01
2025-01-08 01:12:04 [http-nio-8080-exec-2] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [rabbitmq:5672]
2025-01-08 01:12:04 [http-nio-8080-exec-2] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#30bd39d5:0/SimpleConnection@47bbde13 [delegate=amqp://admin@172.18.0.6:5672/, localPort=46400]
2025-01-08 01:12:04 [http-nio-8080-exec-2] DEBUG org.example.service.RabbitMQSender - Message sent successfully
2025-01-08 01:12:04 [http-nio-8080-exec-2] DEBUG o.example.service.RedisCacheService - Attempting to evict all employees from cache
2025-01-08 01:12:04 [http-nio-8080-exec-2] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 01:12:04 [http-nio-8080-exec-2] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 01:12:04 [http-nio-8080-exec-2] INFO  o.example.service.RedisCacheService - CACHE MISS - No cache entry found for all employees
2025-01-08 01:12:04 [http-nio-8080-exec-2] INFO  o.e.c.EmployeeGatewayController - Employee creation request sent to RabbitMQ and cache invalidated
2025-01-08 01:12:07 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:12 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:17 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:22 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:27 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:31 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:35 [http-nio-8080-exec-9] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 01:12:35 [http-nio-8080-exec-9] WARN  o.example.service.RedisCacheService - CACHE MISS - No employees found in Redis cache
2025-01-08 01:12:35 [http-nio-8080-exec-9] INFO  org.example.grpc.EmployeeGrpcClient - Getting all employees
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG org.example.grpc.EmployeeGrpcClient - Retrieved 1 employees
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.example.service.RedisCacheService - Attempting to cache all employees list
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 01:12:35 [http-nio-8080-exec-9] INFO  o.example.service.RedisCacheService - CACHE UPDATE - Successfully cached 1 employees in Redis
2025-01-08 01:12:35 [http-nio-8080-exec-9] DEBUG o.example.service.RedisCacheService - Cached employees: [EmployeeDto{id=1, name='Гоша', position='Крановщик', salary=155000.75, hireDate=2023-01-01}]
2025-01-08 01:12:35 [http-nio-8080-exec-9] INFO  o.e.c.EmployeeGatewayController - Caching 1 employees retrieved from gRPC
2025-01-08 01:12:36 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:41 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:46 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:51 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:12:56 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:00 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:05 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:10 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:15 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:20 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:25 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:29 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:34 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:39 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:44 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:49 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:54 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:13:58 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:03 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:08 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:13 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:18 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:23 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:28 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:33 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:38 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:43 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:48 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:53 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:14:57 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:02 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:07 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:12 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:17 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:22 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:26 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:31 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:36 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:41 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:46 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:51 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:15:55 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:00 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:05 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:10 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:15 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:20 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:24 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:29 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:34 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:39 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:44 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:49 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:54 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:16:59 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:04 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:09 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:14 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:19 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:23 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:28 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:33 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:38 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:43 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:48 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 01:17:51 [SpringApplicationShutdownHook] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Stopped RedisMessageListenerContainer
2025-01-08 17:24:17 [main] INFO  o.example.GatewayServiceApplication - Starting GatewayServiceApplication using Java 17.0.2 with PID 1 (/app/app.jar started by root in /app)
2025-01-08 17:24:17 [main] DEBUG o.example.GatewayServiceApplication - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-01-08 17:24:17 [main] INFO  o.example.GatewayServiceApplication - No active profile set, falling back to 1 default profile: "default"
2025-01-08 17:24:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-01-08 17:24:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-01-08 17:24:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 500 ms. Found 0 Redis repository interfaces.
2025-01-08 17:24:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-01-08 17:24:41 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-01-08 17:24:41 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-01-08 17:24:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-01-08 17:24:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 24289 ms
2025-01-08 17:24:52 [main] DEBUG i.m.c.u.i.l.InternalLoggerFactory - Using SLF4J as the default logging framework
2025-01-08 17:25:05 [main] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Starting RedisMessageListenerContainer...
2025-01-08 17:25:05 [main] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Postpone listening for Redis messages until actual listeners are added
2025-01-08 17:25:05 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-01-08 17:25:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-01-08 17:25:05 [main] INFO  o.example.GatewayServiceApplication - Started GatewayServiceApplication in 50.052 seconds (process running for 53.772)
2025-01-08 17:25:08 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-01-08 17:25:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-01-08 17:25:08 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-01-08 17:25:08 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:12 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:17 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:22 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:27 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:32 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:36 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:41 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:44 [http-nio-8080-exec-10] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:25:44 [http-nio-8080-exec-10] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:25:44 [http-nio-8080-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:25:46 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:46 [http-nio-8080-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:25:46 [http-nio-8080-exec-10] WARN  o.example.service.RedisCacheService - CACHE MISS - No employees found in Redis cache
2025-01-08 17:25:46 [http-nio-8080-exec-10] INFO  org.example.grpc.EmployeeGrpcClient - Getting all employees
2025-01-08 17:25:49 [http-nio-8080-exec-10] DEBUG org.example.grpc.EmployeeGrpcClient - Retrieved 1 employees
2025-01-08 17:25:49 [http-nio-8080-exec-10] DEBUG o.example.service.RedisCacheService - Attempting to cache all employees list
2025-01-08 17:25:49 [http-nio-8080-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:25:49 [http-nio-8080-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:25:49 [http-nio-8080-exec-10] INFO  o.example.service.RedisCacheService - CACHE UPDATE - Successfully cached 1 employees in Redis
2025-01-08 17:25:49 [http-nio-8080-exec-10] DEBUG o.example.service.RedisCacheService - Cached employees: [EmployeeDto{id=1, name='Гоша', position='Крановщик', salary=155000.75, hireDate=2023-01-01}]
2025-01-08 17:25:49 [http-nio-8080-exec-10] INFO  o.e.c.EmployeeGatewayController - Caching 1 employees retrieved from gRPC
2025-01-08 17:25:51 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:25:56 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:01 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:05 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:25 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:26 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:30 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:30 [http-nio-8080-exec-6] INFO  o.e.c.EmployeeGatewayController - Creating new employee: Виталя
2025-01-08 17:26:30 [http-nio-8080-exec-6] INFO  org.example.service.RabbitMQSender - Sending message to RabbitMQ: CREATE:Виталя,Крановщик,155000.750000,2023-01-01
2025-01-08 17:26:31 [http-nio-8080-exec-6] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [rabbitmq:5672]
2025-01-08 17:26:32 [http-nio-8080-exec-6] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#3d59933:0/SimpleConnection@b384d47 [delegate=amqp://admin@172.18.0.5:5672/, localPort=50504]
2025-01-08 17:26:33 [http-nio-8080-exec-6] DEBUG org.example.service.RabbitMQSender - Message sent successfully
2025-01-08 17:26:33 [http-nio-8080-exec-6] DEBUG o.example.service.RedisCacheService - Attempting to evict all employees from cache
2025-01-08 17:26:33 [http-nio-8080-exec-6] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:26:33 [http-nio-8080-exec-6] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:26:33 [http-nio-8080-exec-6] INFO  o.example.service.RedisCacheService - CACHE EVICT - Successfully removed all employees from Redis cache
2025-01-08 17:26:33 [http-nio-8080-exec-6] INFO  o.e.c.EmployeeGatewayController - Employee creation request sent to RabbitMQ and cache invalidated
2025-01-08 17:26:35 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:39 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:44 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:49 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:54 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:26:59 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:04 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:04 [http-nio-8080-exec-8] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:27:04 [http-nio-8080-exec-8] WARN  o.example.service.RedisCacheService - CACHE MISS - No employees found in Redis cache
2025-01-08 17:27:04 [http-nio-8080-exec-8] INFO  org.example.grpc.EmployeeGrpcClient - Getting all employees
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG org.example.grpc.EmployeeGrpcClient - Retrieved 2 employees
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.example.service.RedisCacheService - Attempting to cache all employees list
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:27:04 [http-nio-8080-exec-8] INFO  o.example.service.RedisCacheService - CACHE UPDATE - Successfully cached 2 employees in Redis
2025-01-08 17:27:04 [http-nio-8080-exec-8] DEBUG o.example.service.RedisCacheService - Cached employees: [EmployeeDto{id=1, name='Гоша', position='Крановщик', salary=155000.75, hireDate=2023-01-01}, EmployeeDto{id=2, name='Виталя', position='Крановщик', salary=155000.75, hireDate=2023-01-01}]
2025-01-08 17:27:04 [http-nio-8080-exec-8] INFO  o.e.c.EmployeeGatewayController - Caching 2 employees retrieved from gRPC
2025-01-08 17:27:08 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:13 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:18 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:23 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:23 [http-nio-8080-exec-2] INFO  o.e.c.EmployeeGatewayController - Updating employee with ID: 2
2025-01-08 17:27:23 [http-nio-8080-exec-2] INFO  org.example.service.RabbitMQSender - Sending message to RabbitMQ: UPDATE:2,Измененый Виталя,Крановщик,155000.750000,2023-01-01
2025-01-08 17:27:23 [http-nio-8080-exec-2] DEBUG org.example.service.RabbitMQSender - Message sent successfully
2025-01-08 17:27:23 [http-nio-8080-exec-2] DEBUG o.example.service.RedisCacheService - Attempting to evict employee from cache, key: employee:2
2025-01-08 17:27:23 [http-nio-8080-exec-2] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:27:23 [http-nio-8080-exec-2] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:27:23 [http-nio-8080-exec-2] INFO  o.example.service.RedisCacheService - CACHE MISS - No cache entry found for employee ID: 2
2025-01-08 17:27:23 [http-nio-8080-exec-2] INFO  o.e.c.EmployeeGatewayController - Employee update request sent to RabbitMQ and cache invalidated for ID 2
2025-01-08 17:27:28 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:33 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:37 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:42 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:47 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:51 [http-nio-8080-exec-9] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:27:51 [http-nio-8080-exec-9] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:27:51 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:27:51 [http-nio-8080-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:27:51 [http-nio-8080-exec-9] INFO  o.example.service.RedisCacheService - CACHE HIT - Retrieved all employees from Redis cache. Count: 2
2025-01-08 17:27:51 [http-nio-8080-exec-9] INFO  o.e.c.EmployeeGatewayController - Returning 2 employees from cache
2025-01-08 17:27:52 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:27:55 [http-nio-8080-exec-1] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:27:55 [http-nio-8080-exec-1] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:27:55 [http-nio-8080-exec-1] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:27:55 [http-nio-8080-exec-1] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:27:55 [http-nio-8080-exec-1] INFO  o.example.service.RedisCacheService - CACHE HIT - Retrieved all employees from Redis cache. Count: 2
2025-01-08 17:27:55 [http-nio-8080-exec-1] INFO  o.e.c.EmployeeGatewayController - Returning 2 employees from cache
2025-01-08 17:27:57 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:02 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:02 [http-nio-8080-exec-3] INFO  o.e.c.EmployeeGatewayController - Getting employee with ID: 2
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.example.service.RedisCacheService - Attempting to get employee from cache with key: employee:2
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:28:02 [http-nio-8080-exec-3] INFO  o.example.service.RedisCacheService - CACHE MISS - Employee ID: 2 not found in Redis cache
2025-01-08 17:28:02 [http-nio-8080-exec-3] INFO  org.example.grpc.EmployeeGrpcClient - Getting employee by ID: 2
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG org.example.grpc.EmployeeGrpcClient - Successfully retrieved employee with ID: 2
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.example.service.RedisCacheService - Attempting to cache employee with key: employee:2
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:28:02 [http-nio-8080-exec-3] INFO  o.example.service.RedisCacheService - CACHE UPDATE - Successfully cached employee ID: 2 in Redis
2025-01-08 17:28:02 [http-nio-8080-exec-3] DEBUG o.example.service.RedisCacheService - Cached employee details: EmployeeDto{id=2, name='Измененый Виталя', position='Крановщик', salary=155000.75, hireDate=2023-01-01}
2025-01-08 17:28:06 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:11 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:16 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:20 [http-nio-8080-exec-8] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:28:20 [http-nio-8080-exec-8] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:28:20 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:28:20 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:28:20 [http-nio-8080-exec-8] INFO  o.example.service.RedisCacheService - CACHE HIT - Retrieved all employees from Redis cache. Count: 2
2025-01-08 17:28:20 [http-nio-8080-exec-8] INFO  o.e.c.EmployeeGatewayController - Returning 2 employees from cache
2025-01-08 17:28:21 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:26 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:31 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:35 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:40 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:45 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:50 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:28:55 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:00 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:04 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:09 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:14 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:19 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:24 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:29 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:33 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:38 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:38 [http-nio-8080-exec-7] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:29:38 [http-nio-8080-exec-7] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:29:38 [http-nio-8080-exec-7] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:29:38 [http-nio-8080-exec-7] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:29:38 [http-nio-8080-exec-7] INFO  o.example.service.RedisCacheService - CACHE HIT - Retrieved all employees from Redis cache. Count: 2
2025-01-08 17:29:38 [http-nio-8080-exec-7] INFO  o.e.c.EmployeeGatewayController - Returning 2 employees from cache
2025-01-08 17:29:43 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:48 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:53 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:29:57 [http-nio-8080-exec-10] INFO  o.e.c.EmployeeGatewayController - Updating employee with ID: 2
2025-01-08 17:29:57 [http-nio-8080-exec-10] INFO  org.example.service.RabbitMQSender - Sending message to RabbitMQ: UPDATE:2,Измененый Виталя_2,Крановщик,155000.750000,2023-01-01
2025-01-08 17:29:57 [http-nio-8080-exec-10] DEBUG org.example.service.RabbitMQSender - Message sent successfully
2025-01-08 17:29:57 [http-nio-8080-exec-10] DEBUG o.example.service.RedisCacheService - Attempting to evict employee from cache, key: employee:2
2025-01-08 17:29:57 [http-nio-8080-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:29:57 [http-nio-8080-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:29:57 [http-nio-8080-exec-10] INFO  o.example.service.RedisCacheService - CACHE EVICT - Successfully removed employee ID: 2 from Redis cache
2025-01-08 17:29:57 [http-nio-8080-exec-10] INFO  o.e.c.EmployeeGatewayController - Employee update request sent to RabbitMQ and cache invalidated for ID 2
2025-01-08 17:29:58 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:01 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:06 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:11 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:15 [http-nio-8080-exec-8] INFO  o.e.c.EmployeeGatewayController - Request to get all employees
2025-01-08 17:30:15 [http-nio-8080-exec-8] DEBUG o.example.service.RedisCacheService - Attempting to get all employees from cache
2025-01-08 17:30:15 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-01-08 17:30:15 [http-nio-8080-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-01-08 17:30:15 [http-nio-8080-exec-8] INFO  o.example.service.RedisCacheService - CACHE HIT - Retrieved all employees from Redis cache. Count: 2
2025-01-08 17:30:15 [http-nio-8080-exec-8] INFO  o.e.c.EmployeeGatewayController - Returning 2 employees from cache
2025-01-08 17:30:16 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:21 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:26 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:30 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:35 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:40 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:45 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:50 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:55 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:30:59 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:04 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:09 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:14 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:19 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:24 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:28 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:33 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:38 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:43 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:48 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:53 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:31:57 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:02 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:07 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:12 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:17 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:22 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:26 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:31 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:36 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:41 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:46 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:51 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:32:55 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:00 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:05 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:10 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:15 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:20 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:24 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:29 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:34 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:39 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:44 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:49 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:53 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:33:58 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:03 [http-nio-8080-exec-5] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:08 [http-nio-8080-exec-8] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:13 [http-nio-8080-exec-7] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:18 [http-nio-8080-exec-9] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:22 [http-nio-8080-exec-6] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:27 [http-nio-8080-exec-1] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:32 [http-nio-8080-exec-10] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:37 [http-nio-8080-exec-2] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:42 [http-nio-8080-exec-3] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:47 [http-nio-8080-exec-4] DEBUG o.s.b.a.e.w.s.WebMvcEndpointHandlerMapping - Mapped to Actuator web endpoint 'prometheus'
2025-01-08 17:34:51 [SpringApplicationShutdownHook] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Stopped RedisMessageListenerContainer
